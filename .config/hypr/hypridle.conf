# ===========================================================================
#  hypridle configuration
# ===========================================================================

general {
    # When something calls "loginctl lock-session", run hyprlock:
    lock_cmd = pidof hyprlock || hyprlock

    # Lock before sleep, then resume with displays on
    before_sleep_cmd = hyprlock
    after_sleep_cmd  = hyprctl dispatch dpms on

    ignore_dbus_inhibit    = false
    ignore_systemd_inhibit = false
    ignore_wayland_inhibit = false

    # Auto mode: make sure we can lock before sleep if requested
    inhibit_sleep = 2
}

# Lock screen after 5 minutes
listener {
    timeout    = 300                   # seconds
    on-timeout = hyprlock
    on-resume  = echo "Hypridle: user active again"
}

# Suspend after 20 minutes
listener {
    timeout    = 1200                  # seconds
    on-timeout = systemctl suspend
    on-resume  = hyprctl dispatch dpms on
}
